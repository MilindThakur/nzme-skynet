
dist: xenial
language: python
cache: pip

services:
  - docker

before_install:
  - docker pull elgalu/selenium
  - docker pull dosel/zalenium
  - docker pull rubytester/browsermob-proxy
  - docker pull trinitronx/python-simplehttpserver

install:
  - pip install tox-travis
  - pip install codecov

matrix:
  include:
    - python: 2.7
      env:
        - TOX_ENV=py27
    - python: 3.6
      env:
        - TOX_ENV=py36
    - python: 3.7
      env:
        - TOX_ENV=py37

script:
  - tox -e $TOX_ENV

after_success:
  - codecov

deploy:
  provider: pypi
  user: __token__
  password:
    secure: VDudqmLivyqtD37ja9bI5yQS46bk6VoklppfenTtWYB2psd9hZPOwHE21mU1zSQxmm5iAOieMjhkJioAYl0JxM4PvEn0YhnPBXJOrNMgFaXeQgetU1SCXIPWXmWiqswMWTMUmbjdWKJpKRPjpXY+rmOGf1soR/xu2sXSdHGK62TRxxnTzzxkr6K6fDF0lOE1y4xOM5M32ey6V+fHLQqE4riKyCegXtR0p7XIvvKXq9ALhOSYR2n8CYQMyR/C2q9kPi4aK/CuMIrZ+njg9U+ogelbqNwvLoje8tM9K4fsE1mWYp0pR7bqcYkl4kU5y68+7eW98fEvCROS3jsxehyBLeWulsQmZCWDpNjgIPWjVFkeTRXmv238GpZA3sk5LfZYOZLjkzXvbqz7jZtVPyVbnMfxP1lytEYrcRwpwBgz8dHZvkqAANTUlMpsvQDl53NSaH2ekCxvKwrzNk2TACdSHcdBOOnvHSWKKYUh/JFzW8J0aKU03cJkCKyde8D+LELdLi7u9Y1MILvA6xNx5/noKBIsBxhm96xcUBDEWSpiIP209+c5VDB7sysAzUE+TvOGpCQN2dYUXnXaO+Qj8koF4LNf0jR6ZS4jqhM4OpAJHwtJgvVPVT/d/OV0PbXVhALZhuszuUSSKaGoycdZmdpr0ObIIXxYRiWjHuSqvXhQPew=
    #secure: JY8IE14xmHZvIFe6fuNK9s9vUAGNrcU69QWvXkMVUx7Fsp9BbU9Vsq1NIj2SSvetpyFms/MuhMxP8Wvl5Ua+rSXBpt83w5X1Gs50qX72Ui1zAQhiLlZzPiubyHITQFbjlHZhv1GXzmgQohyVqo6GJ3L8tE4CscDUMGr8eIGGoVXLaUZWeBSOKtZi3eNrL5GNMBQnpEui4119a9/wFdVq5ZxiA849gba0YBrNOPf9hsKKC01egWDbku9tT+8KmMPU+xA602GQQI0KMWlRjrkJAfYp7T2TUzvw0WUJjDLQZ4Ewsy8H7yh49dnD17+Jwm72HgWmYGaII9M+fAwhKUYlMQ3abGlzp6AG9OtN++2oYTvgVEezaR5WEi1ggdI03c0FB2QjX/sBWuMcleN5F/AnsTfstkKPWAorPA+bcdrjREYfZggzeTxVVpZGnms/PlVTOtvHR6/lVGyh0L8ugpcfECfSOv5XL8xo1EM8ycnljkeWRb6f5MU31vJ5Atp1HCTqFEvjwyPFwZ/8UU3OwWVaRRMCvTvR4TpGO5oULFGNNacPkf3ecALkDVLn9wSat155dGU1VvugLjevykNNOr8d0yfW02jgXZRoj9Z2DUy8wrd1OhVuQhMzmzQ7F3Hp+X1q8LYNAQCY2JDX1VaSmlL0Y90HBpfN7C+n0hbEoJ16LUA=
  skip_existing: true
  skip_cleanup: true
  #server: https://test.pypi.org/legacy/
  on:
    branch: master